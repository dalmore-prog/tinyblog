# TinyBlog 系统管理使用手册

欢迎使用 TinyBlog 博客管理系统。本手册将引导您如何通过后台管理系统高效地运营您的博客。

## 1. 登录与安全

### 1.1 后台登录
- **访问地址**：`http://您的域名/admin`
- **默认密码**：请参考部署时的初始设置。
- **密码修改**：进入“系统配置”面板，在“管理员密码”框输入新密码并保存。

### 1.2 二步验证 (2FA) 安全增强
- **功能说明**：开启后，登录后台除了需要密码，还需要输入手机 App（如 Google Authenticator）生成的动态验证码。
- **开启步骤**：
    1. 在“系统配置”中找到 2FA 区域。
    2. 点击“开启 2FA”，使用手机扫描显示的二维码。
    3. 输入 App 产生的 6 位验证码完成绑定。
- **重要提示**：请务必妥善保管绑定的手机。

---

## 2. 内容管理

### 2.1 文章发布与编辑
- **Markdown 支持**：系统原生支持 Markdown 语法，您可以直接在编辑器中编写排版。
- **图片处理**：编辑器支持直接**粘贴图片**。粘贴后系统会自动上传并生成链接。
- **隐藏文章**：在文章列表中，点击“隐藏”按钮可使文章在前端不可见，方便草稿管理或临时下架。

### 2.2 文章保护（卡密验证）
- **全局控制**：在“系统配置”中可以开启或关闭“全站文章验证”。
- **单篇设置**：在文章编辑页或文章列表页，可以勾选“卡密保护”。
    - **开启后**：读者必须输入有效的卡密才能阅读该文章内容。
    - **关闭后**：文章对所有人公开（即使全局开启了验证，单篇关闭也会公开）。

---

## 3. 卡密系统 (核心变现逻辑)

### 3.1 卡密生成
- **批量生成**：在“卡密管理”中，点击“批量生成”按钮。
- **有效期设置**：
    - **固定小时**：从卡密激活（第一次使用）开始计算。
    - **永久有效**：设置为 `-1`。
- **导出功能**：生成的卡密可以一键导出为文本，方便在发卡平台销售。

### 3.2 卡密状态监控
- **未使用**：尚未被激活。
- **已激活**：用户已输入并绑定了特定文章。
- **已过期**：超过了设定的有效时长。

### 3.3 设备绑定限制（指纹锁定）
- **多设备支持**：系统通过浏览器指纹识别设备。
- **绑定逻辑**：一个卡密激活后，会绑定到特定设备。
- **最大绑定数**：在“系统配置”中设置“最大绑定设备数”（默认 2 个）。
    - 允许用户在不同浏览器或手机间切换。
    - 超过限制后，系统会提示“已绑定其他设备”，防止卡密被恶意共享。

---

## 4. 系统个性化配置

在“系统配置”面板中，您可以自定义以下内容：

- **网站名称**：显示在浏览器标题栏和首页 Logo。
- **弹窗标题**：卡密验证弹窗的标题文字。
- **默认卡密有效期**：生成卡密时默认预填的小时数，默认是 `-1` 表示永久有效。
- **水印文字**：前端文章内容区域显示的防盗水印。
- **客服二维码**：上传您的微信或客服二维码图片，方便用户购买卡密。
- **合规性页面**：系统已预置“隐私政策”和“关于我们”页面，链接位于首页底部，满足 Google AdSense 等广告平台的审核要求。

---

## 5. 运维与优化建议

- **访问速度**：系统已集成国内高速字体镜像（fonts.loli.net），确保秒开。
- **部署环境**：建议在 Linux 环境下使用 Nginx 作为反向代理，并配合 PM2 守护进程运行。
- **重启脚本**：如需重启服务器，可运行根目录下的 `bash restart-server.sh`。

---
*TinyBlog - 极简、高效的文章加密分发系统*